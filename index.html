<!DOCTYPE html>
<html>
  <head>
    <title>블로그</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/styles.css">
    <script type="text/javascript">
      var data,xmlhttp;
      window.onload = function(){
        xmlhttp = window.XMLHttpRequest ? new XMLHttpRequest() : window.ActiveXObject ? new ActiveXObject("Microsoft.XMLHTTP") : alert("XMLHTTP를 지원하지 않는 브라우저입니다");
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState==4 && xmlhttp.status==200) {
              load_post(0);
              create_button();
            }
        }
        xmlhttp.open("GET","/post_list.json",true);
        xmlhttp.send();
      }
      function load_post(num) {
        data = JSON.parse(xmlhttp.responseText);
          for(let i = 0 ; i+num*10 < data.post_list.length && i < 10 ; i++){
          var A = document.createElement("a");
          A.appendChild(document.createTextNode(data.post_list[i+num*10].title));
          A.href = data.post_list[i+num*10].url;
          var D = document.createElement("div");
          D.className = "post";
          D.append(A);
          document.querySelector(".content").append(D);
        }
      }
      function create_button(){
        for(var i = 1 ; i <= Math.ceil(data.post_list.length/10) ; i++){
          var B = document.createElement("button");
          B.innerHTML = i;
          B.addEventListener('click',load_post(i-1));
          document.querySelector(".content").append(B);
        }
      }
      </script>
  </head>
  <body>
    <header id = "header">
      <h1><a href="/">#블로그 이름 및 헤더</a></h1>
    </header>
    <div id = "wrap">
    <nav id = "menu">
        <ul> #카테고리
        <li><a href = "/category/make_blog.html">블로그 만들기</a></li>
        </ul>
    </nav>
    <section id = "container">
        <div class = "content">
            <article>
             <p>
             # 본문<br><br></p>
              <p> ysh4296의 블로그입니다.
              </p>
            </article>
        </div>
    </section>
    </div>  
    <footer id = "footer">
        Email : dbtmdgns4296@naver.com
    </footer>
  </body>
</html>
