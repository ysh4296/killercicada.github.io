<html>

<head>
<link rel="stylesheet" href="/styles.css">
<script type="text/javascript">

   function load_post() {

      var xmlhttp = window.XMLHttpRequest ? new XMLHttpRequest() : window.ActiveXObject ? new ActiveXObject("Microsoft.XMLHTTP") : alert("XMLHTTP를 지원하지 않는 브라우저입니다");
      var data = 10;
xmlhttp.onreadystatechange = function() { if (xmlhttp.readyState==4 && xmlhttp.status==200) {

         data = JSON.parse(xmlhttp.responseText);
         for(let i = 0 ; i < data.post_list.length ; i++){
            var A = document.createElement("a");
            A.appendChild(document.createTextNode(data.post_list[i].title));
            A.href = data.post_list[i].url;
            document.querySelector(".post").append(A);
            document.querySelector(".post").append(document.createElement("br"));
         }
     }
   }

   xmlhttp.open("GET","/post_list.json",true);

   xmlhttp.send();

}

</script>

</head>

<body>

<div class="post"><h2>AJAX에 대해 배워봅시다.</h2></div>

<button type="button" onclick="load_post()">내용변경</button>

</body>

</html>
